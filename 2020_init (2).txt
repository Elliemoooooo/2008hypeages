campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 21,
        "fields": {
            "year": 2020,
            "summary": "<p>Joe Biden and Donald Trump face off in a heated 2020 election campaign. Held in the wake of a COVID-19 pandemic and nationwide protests, turnout is expected to be through the roof. Can Joe Biden hold together a large enough coalition of anti-Trump voters to make Trump a one-term President, or will Trump pull of another huge upset after trailing in the polls?</p>",
            "image_url": "https://images2.imgbox.com/85/6a/CBqpBsYh_o.png",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://www.jetsimon.com/public/static/images/dillon-stepien.jpg",
            "recommended_reading": "<ul>\n<li><a href=https://www.chicagotribune.com/opinion/editorials/ct-edit-chicago-tribune-biden-endorsement-20200925-lnyxsb5qvrftnjjmj3rnzj33jy-story.html>Our Case For Joe Biden</a></li>\n<li><a href=https://nationalinterest.org/feature/case-trump-166808>The Case For Trump</a></li>\n<li><a href=https://www.npr.org/2020/11/18/935730100/how-biden-won-ramping-up-the-base-and-expanding-margins-in-the-suburbs>How Biden Won: Ramping Up The Base And Expanding Margins In The Suburbs</a></li>\n<li><a href=https://www.prospectmagazine.co.uk/politics/donald-trump-joe-biden-us-election-almost-win-votes-concede>Why Did Trump Almost Win?</a></li>\n<li><a href=https://www.hoover.org/research/no-evidence-voter-fraud-guide-statistical-claims-about-2020-election>No Evidence For Voter Fraud: A Guide To Statistical Claims About The 2020 Election</a></li>\n</ul>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/2012-no-majority.jpg",
            "creator": "Dan Bryan",
            "display_year": "2020"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 300,
        "fields": {
            "first_name": "Kamala",
            "last_name": "Harris",
            "election": 21,
            "party": "Democratic",
            "state": "California",
            "priority": 1,
            "description": "<p>You're Joe Biden's VP.",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://images2.imgbox.com/fd/dc/LILunndD_o.png",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2020 election.</h3><p>Things may have been closer and more contested than you hoped for, but the final result remains. Can you help bring the country back together after a tumultuous few years? Or will you be seen as a lame duck from the first day -- unable to keep the two wings of your party coordinated? Time will tell.</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2020 election.</h3><p>After an election in which many of your supporters claimed democracy itself was at stake, what happens now? Perhaps the party will need to go in a completely different direction in 2024. As for yourself, it seems that your long, illustrious political career has surely drawn to a close.</p>",
            "no_electoral_majority_message": "<h3>Sorry! You have lost the 2020 election.</h3><p>In spite of the 269-269 tie in the electoral college, Republicans control a majority of state delegations in the House of Representatives. After an election in which many of your supporters claimed democracy itself was at stake, what happens now? Perhaps the party will need to go in a completely different direction in 2024.</p>",
            "description_as_running_mate": "",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 301,
        "fields": {
            "first_name": "Donald",
            "last_name": "Trump",
            "election": 21,
            "party": "Republican",
            "state": "Florida",
            "priority": 2,
            "description": "<p>President Donald Trump enters the campaign with the advantages of incumbency, yet seems to be the underdog for a second time. Can Trump piece together a winning coalition again, and will it be the same one that got him over the finish line in 2016? The pandemic and Black Lives Matter movement only serve to complicate his task even further.</p>",
            "color_hex": "#FF0000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 1,
            "image_url": "https://www.jetsimon.com/public/static/images/donald-trump-2020.jpg",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2020 election.</h3><p>For the second time in a row, many analysts saw a victory for you as practically impossible. But whatever they say, it is clear that your Make America Great Again agenda has been vindicated. Where do you take things from here?</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2020 election.</h3><p>After an election in which many of your supporters claimed democracy itself was at stake, what happens now? Many analysts believe the party will need to go in a completely different direction next time. As for yourself, will you take these results sitting down, or will you prepare yourself for an epic political comeback in 2024?</p>",
            "no_electoral_majority_message": "<h3>Congratulations! You have won the 2020 election.</h3><p>In spite of the 269-269 tie in the electoral college, Republicans control a majority of state delegations in the House of Representatives. A lot of liberals are absolutely distraught and outraged that the election came down to such a technicality, but hey, those are the rules!</p>",
            "description_as_running_mate": "",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 302,
        "fields": {
            "first_name": "Jo",
            "last_name": "Jorgensen",
            "election": 21,
            "party": "Libertarian",
            "state": "South Carolina",
            "priority": 3,
            "description": "'",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 303,
        "fields": {
            "first_name": "Howie",
            "last_name": "Hawkins/Other",
            "election": 21,
            "party": "Green",
            "state": "New York",
            "priority": 4,
            "description": "'",
            "color_hex": "#00C100",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 304,
        "fields": {
            "first_name": "Kamala",
            "last_name": "Harris",
            "election": 21,
            "party": "Democrat",
            "state": "California",
            "priority": 5,
            "description": "'",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/kamala-harris-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Kamala Harris is a Senator from California who made her own run for President in 2020. She would be acceptable to moderates and financial supporters, has some appeal to progressives, and brings diversity to the ticket. She's not the preferred choice of most progressives.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 305,
        "fields": {
            "first_name": "Susan",
            "last_name": "Rice",
            "election": 21,
            "party": "Democrat",
            "state": "Washington DC",
            "priority": 6,
            "description": "'",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/susan-rice-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Susan Rice was a UN Ambassador and a National Security Advisor to Barack Obama, and brings decades of foreign policy experience. She would be a true center-left pick, but has never run for elected office. Her foreign policy record would also be a turnoff to progressives.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 306,
        "fields": {
            "first_name": "Karen",
            "last_name": "Bass",
            "election": 21,
            "party": "Democrat",
            "state": "California",
            "priority": 7,
            "description": "'",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/karen-bass-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Karen Bass is a Congresswoman from California and Chair of the Congressional Black Caucus. She has taken more progressive policy stances (including support for Medicare For All) than some of the other candidates, with the attendant supporters and detractors.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 307,
        "fields": {
            "first_name": "Gretchen",
            "last_name": "Whitmer",
            "election": 21,
            "party": "Democrat",
            "state": "Michigan",
            "priority": 8,
            "description": "'",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/gretchen-whitmer-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Gretchen Whitmer is the Governor of Michigan who could bring some undecideds over the line in that state and region. She is seen as a mainstream Democrat with solid experience. Choosing her would anger some supporters who expect an African-American running-mate after this summer's protests.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 308,
        "fields": {
            "first_name": "Elizabeth",
            "last_name": "Warren",
            "election": 21,
            "party": "Democrat",
            "state": "Massachusetts",
            "priority": 9,
            "description": "'",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/elizabeth-warren-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Elizabeth Warren is a Senator from Massachusetts who made a serious run at the Democratic Nomination in 2020. She is generally seen as a solid progressive with a particular interest in financial reform and regulation. Choosing her would anger some supporters who expect an African-American running-mate after this summer's protests.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 309,
        "fields": {
            "first_name": "Mike",
            "last_name": "Pence",
            "election": 21,
            "party": "Republican",
            "state": "Indiana",
            "priority": 10,
            "description": "'",
            "color_hex": "#FF0000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/mike-pence-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Mike Pence has served as your Vice President for the past four years, sticking to all of your talking points and staying out of the limelight. Most feel he should be rewarded for this loyalty with another turn on the top of the ticket. He also helps shore up your support with social conservatives.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 310,
        "fields": {
            "first_name": "Nikki",
            "last_name": "Haley",
            "election": 21,
            "party": "Republican",
            "state": "South Carolina",
            "priority": 11,
            "description": "'",
            "color_hex": "#FF0000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/nikki-haley-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Nikki Haley has served as the Governor of South Carolina, and as a UN Ambassador. She could help you moderate your image and try to close the female vote. Choosing her would probably lead to hard feelings between yourself and Pence, but would your voters care?</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 311,
        "fields": {
            "first_name": "Spike",
            "last_name": "Cohen",
            "election": 21,
            "party": "Libertarian",
            "state": "Maryland",
            "priority": 12,
            "description": "'",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 312,
        "fields": {
            "first_name": "Angela",
            "last_name": "Walker",
            "election": 21,
            "party": "Green",
            "state": "Wisconsin",
            "priority": 13,
            "description": "'",
            "color_hex": "#00C100",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 313,
        "fields": {
            "first_name": "Val",
            "last_name": "Demings",
            "election": 21,
            "party": "Democrat",
            "state": "Florida",
            "priority": 14,
            "description": " ",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/val-demings-2020.jpg",
            "electoral_victory_message": " ",
            "electoral_loss_message": " ",
            "no_electoral_majority_message": " ",
            "description_as_running_mate": "<p>Val Demings is a Congresswoman and former police chief from Florida. She could allow Biden to select a black running mate with more moderate credentials than some of the other choices. However, she has had a limited national profile and may be a disappointment to the more progressive wing of the party.<p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 314,
        "fields": {
            "first_name": "Tammy",
            "last_name": "Duckworth",
            "election": 21,
            "party": "Democrat",
            "state": "Illinois",
            "priority": 15,
            "description": " ",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/tammy-duckworth-2020.jpg",
            "electoral_victory_message": " ",
            "electoral_loss_message": " ",
            "no_electoral_majority_message": " ",
            "description_as_running_mate": "<p>Tammy Duckworth is a Senator from Illinois who served in Iraq and has been active in foreign policy issues. She could help in the Midwest, but was also born in Thailand (as a U.S. citizen) and will need to deflect questions about her eligibility. Additionally, many party activists are expecting an African-American to be selected as well.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 200,
        "fields": {
            "candidate": 300,
            "running_mate": 304
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 201,
        "fields": {
            "candidate": 300,
            "running_mate": 305
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 210,
        "fields": {
            "candidate": 300,
            "running_mate": 314
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 209,
        "fields": {
            "candidate": 300,
            "running_mate": 313
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 202,
        "fields": {
            "candidate": 300,
            "running_mate": 306
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 203,
        "fields": {
            "candidate": 300,
            "running_mate": 307
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 204,
        "fields": {
            "candidate": 300,
            "running_mate": 308
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 205,
        "fields": {
            "candidate": 301,
            "running_mate": 309
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 206,
        "fields": {
            "candidate": 301,
            "running_mate": 310
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 207,
        "fields": {
            "candidate": 302,
            "running_mate": 311
        }
    }
]

campaignTrail_temp.credits = "Dan Bryan"

campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 25,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.opponents_default_json = [
    {
        "election": 21,
        "candidates": [
            300,
            301,
            302,
            303,
            312
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 21,
        "candidates": [
            300,
            301,
            302,
            303,
            312
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 21,
        "year": 2020,
        "is_premium": 0,
        "display_year": "2020"
    }
]

jet_data = {
    "headerColor": "#000000",
    "windowColor": "#000000ff",
    "containerColor": "#000000ff",
    "innerWindowColor": "#000000ff",
    "bannerImageUrl": "https://images2.imgbox.com/c5/a1/6uHMR3Bj_o.png",
    "backgroundImageUrl": "https://images2.imgbox.com/c2/34/tyQGVPAE_o.png",
    "endingTextColor": "#000000",
    "customQuote": "",
    "gameTitle": "Let's WIN This!"
}

//#startcode

corrr = `
    <h2 style="
        font-family: 'Plymouth Serial Heavy', 'Times New Roman', serif;
        font-size: 48px;
        letter-spacing: 2px;
        text-align: center;
        background: #fff8e5;
        border-radius: 5px;
    ">
    <span style="color: #23278e;">1</span> 
    <span style="color: #e73645;">0</span> 
    <span style="color: #23278e;">7</span>
    <span style="color: #e73645;">Days</span> 
    </h2>
`;

// Set header color
nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#1c58b7";

// The window color should be transparent so the custom background image shows
nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "transparent";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

// Ensure the game window is transparent for the background image
$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

// Set the container color (the area around the game window)
$(".container")[0].style.backgroundColor = "#ffffffff";

document.getElementById("header").src = "https://images2.imgbox.com/c5/a1/6uHMR3Bj_o.png";
document.body.background = "https://images2.imgbox.com/c2/34/tyQGVPAE_o.png";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#FFFFFF!important;}</style>";

const _gameWindow = document.getElementById("game_window");
if (_gameWindow) {
    _gameWindow.style.border = "6px solid #1c58b7";
    _gameWindow.style.borderRadius = "10px";
    _gameWindow.style.backgroundImage = "url(https://images2.imgbox.com/71/e7/Hz00B3sn_o.png)";
}

e = campaignTrail_temp


function appendStyle() {

    if (!document.querySelector('meta[name="viewport"]')) {
        const metaTag = document.createElement('meta');
        metaTag.name = "viewport";
        metaTag.content = "width=device-width, initial-scale=1";
        document.head.appendChild(metaTag);
    }

    // Custom styles here
    if (!document.querySelector('#radio-option-style')) {
        const style = document.createElement('style');
        style.id = 'radio-option-style';
        style.textContent = `
			#election_description_window {
				background-color: rgba(28, 88, 183, 1);
				color: white;
				height: 249px;
                font-size: 16px;
                font-family: Times New Roman;
			}
			#election_image {
			  margin-left: 0px;
			  margin-top: 0px;
			  width: 400px;
			  height: 400px;
			  background-image: linear-gradient(to right, transparent, #1c58b7), url('https://images2.imgbox.com/3f/75/3J7jpPtg_o.png');
			  background-size: cover;
			  z-index: 1;
			  background-position: center;
			}
			#election_image img {
			  padding: 1px;
			  z-index: 0;
			  opacity: 0;
			}
			#inner_window_1 {
			  margin: 1em;
			}

.person_summary ul {
                display: flex;
                flex-flow: column;
                padding: 0;
                margin: 0;
            }

            .person_summary li {
                padding-bottom: .5em;
                margin: .5em 0 0 0;
                border-bottom: 1px solid rgba(44, 62, 80, 0.2);
                color: #2c3e50;
            }

            .person_summary li:last-child {
                border-bottom: none;
            }

.person_summary ul {
                list-style: none;
            }

.person_summary li::before {
                content: "+ ";
                color: #3498db;
                font-weight: bold;
            }

#visit_window {
  height: auto;
}

.campaign_trail_start_emphasis {
  background: none;
}

#election_description_window, .description_window_small {
  border: 3px #2e2e2e ;
}

@font-face {
  font-family: 'Plymouth Serial Heavy';
  src: url('https://raw.githubusercontent.com/helpmeihatecapchtas/okie/main/plymouth-serial-heavy.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}
body {
  font-family: 'Plymouth Serial Heavy', sans-serif;
}

.game_header {
        padding: 0px;
        border-color: #1c58b7;
        background-color: #1c58b7;
      }

.container {
    border-color: #1c58b7;
      }
      .content_single {
    border-color: #1c58b7;
      }
      .footer {
    border-color: #1c58b7;
      }
       .footer hr {
    border-color: #1c58b7;
      }

      #candidate_description_window {
        background-color: #ffffffff;
        height: 300px;
    border-color: #1c58b7;
    border-width: 2px;
    border-style: solid;
    border-image: initial;
      }

      #running_mate_description_window {
        background-color: #ffffffff;
        height: 300px;
    border-color: #1c58b7;
    border-width: 2px;
    border-style: solid;
    border-image: initial;
      }

#candidate_image {
    margin-left: 0px;
    margin-top: 0px;
    height: 300px;
    width: 300px;
    background-image:
      linear-gradient(to right, transparent, #ffffffff),
      url('https://images2.imgbox.com/fd/dc/LILunndD_o.png');
    background-size: cover;
    z-index: 1;
    border: none;
    outline: none;
}

#candidate_image img {
    padding: 1px 1px;
    border: 1px solid #C9C9C9;
    z-index: 0;
    opacity: 0;
}

#running_mate_image {
    margin-left: 0px;
    margin-top: 0px;
    height: 300px;
    width: 300px;
    position: relative;
    border: none;
    outline: none;
}

#running_mate_image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(to right, transparent, #ffffffff);
    z-index: 2;
}

#running_mate_image img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
}

#running_mate_description_window {
	height: 300px;
}

button:not(.player-control-button), .btn, .is-info, .is-success, .is-primary, .is-secondary {
    box-sizing: border-box;
    padding: 8px 20px;
    font-size: 14px;
    color: #063889;
    font-weight: 500;
    cursor: pointer;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: #f2f4f9;
    border: 1px solid #063889;
    transition: all 0.2s ease;
}

button:not(.player-control-button):hover, .btn:hover, .is-info:hover, .is-success:hover, .is-primary:hover, .is-secondary:hover {
    background: #f2f4f9;
    transform: translateY(-5px);
}

button:not(.player-control-button).small, .btn.small {
    padding: 6px 16px;
    font-size: 13px;
}

        `;
        document.head.appendChild(style);
    }

// Psst: this is for replacing the site_description with this custom modal.
(() => {
    const CONFIG = {
        imageSrc: 'https://images2.imgbox.com/81/83/WVzxU5tr_o.png',
        margin: '-20px',
        widthCalc: 'calc(100% - 30px)',
    };

    (function addPrologueBorder() {
        const id = 'prologue-border-style';
        if (document.getElementById(id)) return;
        const s = document.createElement('style');
        s.id = id;
        s.textContent = `
            #inner_window_1 {
                box-sizing: border-box;
                border: 4px solid #959de5ff;
                border-radius: 8px;
                padding: 8px;
                background: #fffbf0ff;
            }
        `;
        document.head.appendChild(s);
    })();

    const inner = document.getElementById('inner_window_1');
    if (!inner || inner.children.length < 3) return;
    const [headingEl, contentEl] = inner.children;
    const gameStart = document.getElementById('game_start');
    const gameWindow = document.getElementById('game_window');

    if (gameWindow) gameWindow.style.height = 'auto';

    headingEl.innerHTML = `<h3 style="font-size: 40px; font-family: Times New Roman; color: #23278e; letter-spacing: 4px"><i>A Feeling Like No Other.</i></h3>`;
    Object.assign(contentEl.style, { marginLeft: CONFIG.margin, width: CONFIG.widthCalc });
    contentEl.innerHTML = generatePrologueHTML(CONFIG);

    Object.assign(contentEl.style, { 
    marginLeft: CONFIG.margin, 
    width: CONFIG.widthCalc, 
    color: 'black'
});

    if (gameStart) {
        gameStart.innerHTML = '<strong>I must act quick.</strong>';
        const clearHeight = () => { if (gameWindow) gameWindow.style.removeProperty('height'); };
        if (window.jQuery) $('#game_start').on('click', clearHeight);
        else gameStart.addEventListener('click', clearHeight);
    }

    function generatePrologueHTML({ imageSrc }) {
        return `
      <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 15px;">
        <img src="${imageSrc}" alt="alt text" style="max-width: 100%; height: auto; display: block;" />
      </div>
      <p>
        <div style='text-decoration: color: #000000ff; font-family: Segoe UI; font-style: italic; font-size: 18px;'>I had been sitting in your room alone for the past few hours. Biden's post about his decision to not run for re-election was expected, it’s not like he could hide party disunity from me anyways. His old, running mouth always leaks a thing or too.
      </p>
      <p>
        I also tried calling Gavin earlier, he said he’ll call later, but knowing him, he’ll never call back. He’s probably somewhere prepping for his campaign by now, what a ruthless idiot. At least the cabinet trusts me in full, probably because I’ve de-facto led the presidency for the last 4 years, while Biden sat around with his ice cream button of course. Still, I hoped for a more organized and careful campaign, instead of the emergency one propped up right now. 2028 would’ve been a good year, and if Trump ran, it’d be a sweep.
      </p>
    <p>
        But, I can’t really complain, since if Biden ran, I’d have no chance to run in 2028. But on the bad side, it’s now my problem to defeat Trump and with only 107 days,</div>
    `;
    }

})();

}

appendStyle();



function ensureStylesheet(url, id) {
	if (id && document.getElementById(id)) {
        if (id === 'unpkg-7css') {
            const link = document.getElementById(id);
if (link) link.remove();
            return; 
        }
        return;
    }
	if (document.querySelector('link[rel="stylesheet"][href="' + url + '"]')) return;
const link = document.createElement('link');
	link.rel = 'stylesheet';
	link.href = url;
	if (id) link.id = id;
	document.head.appendChild(link);
}



function ensureMetaViewport() {
    if (!document.querySelector('meta[name="viewport"]')) {
        const m = document.createElement('meta');
        m.name = 'viewport';
        m.content = 'width=device-width, initial-scale=1';
        document.head.appendChild(m);
    }
}

applyGlobalStyles.sheets = {};

function applyGlobalStyles(css, id = 'app-theme') {
    if ('adoptedStyleSheets' in document && 'replaceSync' in CSSStyleSheet.prototype) {
        if (!applyGlobalStyles.sheets[id]) {
            applyGlobalStyles.sheets[id] = new CSSStyleSheet();
            document.adoptedStyleSheets = [...document.adoptedStyleSheets, applyGlobalStyles.sheets[id]];
        }
        applyGlobalStyles.sheets[id].replaceSync(css);
        return;
    }

    let el = document.getElementById(id);
    if (!el) {
        el = document.createElement('style');
        el.id = id;
        document.head.appendChild(el);
    }
    el.textContent = css;
}


class Song {
  constructor(title, artist, coverLink, audioLink) {
    this.title = title;
    this.artist = artist;
    this.coverLink = coverLink;
    this.audioLink = audioLink;
  }
  getTitle() { return this.title; }
  getArtist() { return this.artist; }
  getCoverLink() { return this.coverLink; }
  getAudioLink() { return this.audioLink; }
}

class Playlist {
  constructor() {
    this.songs = [];
    this.currentSongIndex = 0;
  }

  addSong(song) { this.songs.push(song); }
  getCurrentSong() { return this.songs[this.currentSongIndex]; }

  playNext() {
    this.currentSongIndex = (this.currentSongIndex + 1) % this.songs.length;
  }

  playPrevious() {
    this.currentSongIndex = (this.currentSongIndex - 1 + this.songs.length) % this.songs.length;
  }
}
window.Playlist = Playlist;
window.Song = Song;

function changePlaylist(newPlaylist) {
  playlist = newPlaylist;
  playlist.currentSongIndex = 0;
  updateUI(playlist);
  const audio = document.getElementById("audio");
  audio.src = playlist.getCurrentSong().audioLink;
  audio.play();
}
window.changePlaylist = changePlaylist;

function updateUI(playlist) {
  const currentSong = playlist.getCurrentSong();
  const player = document.getElementById("player");
  player.querySelector("#cover").src = currentSong.getCoverLink();
  player.querySelector("#title").textContent = currentSong.getTitle();
  player.querySelector("#artist").textContent = currentSong.getArtist();
}
window.updateUI = updateUI;

 function setupMusicPlayer() {
  playlist = new Playlist();

  const songs = [
    new Song("The Less I Know The Better", "Tame Impala", "https://file.garden/Z5ZdT2XMBSWGuJym/tame", "https://audio.jukehost.co.uk/yW6mpR3SsdLBgBN60bdipBzyZS3sii07"),
    new Song("No Ties", "Xiao Xiao", "https://images2.imgbox.com/16/9d/4XGAIUwM_o.png", "https://audio.jukehost.co.uk/5OVM75vLGAVBSkiP2F8Vln7CcWQdfxDQ"),
    new Song("Yang Gang", "Ollie B and Max Ray", "https://images2.imgbox.com/43/54/jZKD9YG2_o.png", "https://audio.jukehost.co.uk/JXKBv1ZGVV3By9MsF3ekr0O6uUDe3k6X"),
    new Song("Fight as One", "Eason Chan & Jolin Tsai", "https://images2.imgbox.com/96/94/wKBQVcuh_o.png", "https://audio.jukehost.co.uk/R5yUAGJa0nTtdzywhDhrJiM7iAEINNRlT"),
    new Song("Buddy Holly", "Weezer", "https://images2.imgbox.com/a2/d6/8QdNz1S7_o.png", "https://audio.jukehost.co.uk/eWMsA6rGr8eoY1oNC9Wdazn2er4JkQFb"),
  ];
  songs.forEach(s => playlist.addSong(s));

  const playerContainer = document.createElement("div");
  playerContainer.id = "player";

  const displayBox = document.createElement("div");
  displayBox.id = "display-box";

  const coverElement = document.createElement("img");
  coverElement.id = "cover";
  displayBox.appendChild(coverElement);

  const infoContainer = document.createElement("div");
  infoContainer.id = "info-container";

  const titleElement = document.createElement("h3");
  titleElement.id = "title";

  const artistElement = document.createElement("p");
  artistElement.id = "artist";

  infoContainer.appendChild(titleElement);
  infoContainer.appendChild(artistElement);
  displayBox.appendChild(infoContainer);
  playerContainer.appendChild(displayBox);

  const controlsContainer = document.createElement("div");
  controlsContainer.id = "controls-container";

  const controls = document.createElement("div");
  controls.id = "controls";

  const prevButton = document.createElement("button");
  prevButton.id = "prevButton";
  prevButton.textContent = "⏮";

  const playPauseButton = document.createElement("button");
  playPauseButton.id = "playPauseButton";
  playPauseButton.textContent = "▶";

  const nextButton = document.createElement("button");
  nextButton.id = "nextButton";
  nextButton.textContent = "⏭";

  controls.appendChild(prevButton);
  controls.appendChild(playPauseButton);
  controls.appendChild(nextButton);
  controlsContainer.appendChild(controls);

  // progress bar (custom div)
  const progressBarContainer = document.createElement("div");
  progressBarContainer.id = "progress-bar-container";
  const progressBar = document.createElement("div");
  progressBar.id = "progress-bar";
  progressBarContainer.appendChild(progressBar);
  controlsContainer.appendChild(progressBarContainer);
  playerContainer.appendChild(controlsContainer);

  const volumeContainer = document.createElement("div");
  volumeContainer.id = "volume-container";
  const volumeSlider = document.createElement("input");
  volumeSlider.type = "range";
  volumeSlider.id = "volumeSlider";
  volumeSlider.min = 0;
  volumeSlider.max = 9;
  volumeSlider.step = 1;
  volumeSlider.value = 1;
  volumeContainer.appendChild(volumeSlider);
  playerContainer.appendChild(volumeContainer);

  gameWindow_player.insertAdjacentElement("afterend", playerContainer);

  const audio = document.createElement("audio");
  audio.id = "audio";
  audio.src = playlist.getCurrentSong().audioLink;
  audio.volume = 1 / 9;
  document.body.appendChild(audio);
  audio.play();

  // logic
  playPauseButton.addEventListener("click", () => {
    if (audio.paused) {
      audio.play();
      playPauseButton.textContent = "⏸";
    } else {
      audio.pause();
      playPauseButton.textContent = "▶";
    }
  });

  nextButton.addEventListener("click", () => {
    playlist.playNext();
    updateUI(playlist);
    audio.src = playlist.getCurrentSong().audioLink;
    audio.play();
    playPauseButton.textContent = "⏸";
  });

  prevButton.addEventListener("click", () => {
    playlist.playPrevious();
    updateUI(playlist);
    audio.src = playlist.getCurrentSong().audioLink;
    audio.play();
    playPauseButton.textContent = "⏸";
  });

  audio.addEventListener("timeupdate", () => {
    const progress = (audio.currentTime / audio.duration) * 100;
    progressBar.style.width = progress + "%";
  });

  volumeSlider.addEventListener("input", () => {
    audio.volume = volumeSlider.value / 9;
  });

  updateUI(playlist);
}

const style = document.createElement("style");
style.textContent = `
  #player {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    background: linear-gradient(135deg, #e6f0ff, #c2d8ff);
    border-radius: 18px;
    border: 1px solid #c7d6ff;
    box-shadow: 0 4px 20px rgba(50, 90, 180, 0.1);
    padding: 14px 20px;
    height: 190px;
    color: #1f2a44;
    font-family: "Inter", sans-serif;
  }

  #display-box {
    display: flex;
    align-items: center;
    width: 45%;
    gap: 14px;
  }

  #cover {
    width: 100px;
    height: 100px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  }

  #info-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  #title {
    font-size: 16px;
    font-weight: 600;
    color: #1b2a4b;
    margin-bottom: 4px;
  }

  #artist {
    font-size: 14px;
    opacity: 0.7;
  }

  #controls-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-evenly;
    flex: 1;
    height: 100%;
  }

  #controls {
    display: flex;
    justify-content: center;
    gap: 70px;
  }

#controls button {
  background: white;          
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #1c58b7;
  transition: transform 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
  border-radius: 50%;          
  width: 48px;                 
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); 
}

#controls button:hover {
  transform: scale(1.15);
  color: #1c58b7;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
}


  #progress-bar-container {
    width: 80%;
    height: 8px;
    background: #ffffffff;
    border-radius: 6px;
    margin-bottom: 50px;
  }

  #progress-bar {
    height: 100%;
    background: #1c58b7;
    border-radius: 6px;
    width: 0%;
    transition: width 0.1s linear;
  }

  #volume-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }

  #volumeSlider {
    appearance: none;
    width: 100px;
    height: 4px;
    border-radius: 2px;
    background: #a8c4ff;
    outline: none;
  }

  #volumeSlider::-webkit-slider-thumb {
    appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #1c58b7;
    cursor: pointer;
  }
`;
document.head.appendChild(style);

const gameWindow_player = document.getElementById("game_window");
setupMusicPlayer();

//#endcode

tooltipList = [
  {searchString: "Placeholder", explanationText: "<img src=https://i.imgur.com/PUT IMGUR LINK HERE> Put the Text Here"},
  {searchString: "Placeholder 2", explanationText: "<img src=https://i.imgur.com/PUT IMGUR LINK HERE> Put the Text Here"}
];

//#endcode
